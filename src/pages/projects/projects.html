<template>
    <require from="../../resources/value-converters/date-formatter/date-formatter"></require>
    <require from="../../resources/value-converters/limitTo/limitTo"></require>

    <div class="projects-list col-xs-12">
        <section repeat.for="item of projectList | limitTo:projectList.length " class="${item.id}"
                 if.bind="item.list.length">
            <h2>${item.status} (${item.list.length})</h2>
            <a repeat.for="project of item.list">
                <span class="title" click.delegate="goToProject(project.id)">
                    <i class="material-icons">fiber_manual_record</i>
                    ${project.name}
                </span>
                <span class="from">${project.client.firstName} ${project.client.lastName}</span>
                <span class="details date">${project.createdAt | dateFormatter}</span>
            </a>
        </section>
        <button class="add-project" if.bind="user.type === 'client'" click.delegate="showModal()">
            <i class="material-icons">add</i>
        </button>
    </div>
    <dialog class="dialog" click.delegate="hideModal()">
        <span>Create New Job</span>
        <button class="add-project" click.delegate="goToCreateJob()"><i class="material-icons">add</i></button>
    </dialog>
</template>